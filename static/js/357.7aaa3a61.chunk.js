"use strict";(self.webpackChunkdelivery_test=self.webpackChunkdelivery_test||[]).push([[357],{1357:function(n,e,t){t.r(e),t.d(e,{default:function(){return X}});var i,o,r,a,l,s,c,d,u,p,x,f,h,m,b=t(9439),g=t(9434),j=t(2791),v=t(5705),y=t(8007),Z=t(7993),k=t(7194),C=t(3623),w=t(6214),S=t(168),P=t(6444),E=P.ZP.div(i||(i=(0,S.Z)(["\nflex-basis: 40%;\nmin-width:250px;\nheight:fit-content;\npadding: 16px;\nbackground: rgba(255, 255, 255, 0.1);\nborder-radius: 16px;\nbackdrop-filter: blur(5px);\n-webkit-backdrop-filter: blur(5px);\nborder: 1px solid rgba(255, 255, 255, 0.3);\nborder-radius: ",";\nborder: 2px solid rgba(110, 140, 500, 0.2);\n  box-shadow: 10px 12px 12px 0px #cab1b14d, 0 0 10em 1em rgba(110, 140, 500, 0.2);\n"])),(function(n){return n.theme.radii.tabs})),z=P.ZP.form(o||(o=(0,S.Z)(["\ndisplay:flex;\nflex-direction:column;\ngap:16px;\nborder-radius: ",";\n    padding: 16px 32px;\n    box-shadow: inset 2px 2px 5px #babecc, inset -5px -5px 10px #fff;\n"])),(function(n){return n.theme.radii.tabs})),A=P.ZP.div(r||(r=(0,S.Z)(["\ndisplay:flex;\nflex-direction:column;\ngap:16px;\n\nlabel {\n    display:flex;\n    justify-content:space-between;\n    font-size:14px;\n    color: ",";  \n}\n\ninput {\n    width:200px;\n    border-radius: 8px;\n    padding:6px 12px;\n}\n\nbutton {\n    align-self:center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 2px solid transparent;\n  background-color:",";\n  border-radius: ",";\n  padding:8px 12px;\n  font-family: ",";\n  font-size: 14px;\n  font-weight: ",";\n  text-transform: uppercase;\n  color: ",";\n  transition: ",";\n  cursor: pointer;\n\n  &:disabled {\n    opacity: 0.7;\n  }\n\n  &:hover:not(:disabled),\n  &:focus:not(:disabled) {\n    background-color: transparent;\n    border: 2px solid pink;\n  }\n}\n"])),(function(n){return n.theme.colors.mainDark}),(function(n){return n.theme.colors.mainAccent}),(function(n){return n.theme.radii.btnStandart}),(function(n){return n.theme.fonts.main}),(function(n){return n.theme.fontWeights[2]}),(function(n){return n.theme.colors.mainDark}),(function(n){return n.theme.transitions.main})),D=P.ZP.div(a||(a=(0,S.Z)(["\nflex-grow:1;\ndisplay:flex;\nflex-direction:column;\ngap:8px;\nheight:fit-content;\nmax-height:70vh;\noverflow-y:scroll;\npadding: 16px;\nbackground: rgba(255, 255, 255, 0.1);\ncolor: ",";\nborder-radius: 16px;\nbackdrop-filter: blur(5px);\n-webkit-backdrop-filter: blur(5px);\nborder: 1px solid rgba(255, 255, 255, 0.3);\nborder-radius: ",";\nborder: 2px solid rgba(110, 140, 500, 0.2);\n  box-shadow: 10px 12px 12px 0px #cab1b14d, 0 0 10em 1em rgba(110, 140, 500, 0.2);\n"])),(function(n){return n.theme.colors.mainDark}),(function(n){return n.theme.radii.tabs})),T=P.ZP.img(l||(l=(0,S.Z)(["\nwidth:60px;\nborder-radius: ",";\n"])),(function(n){return n.theme.radii.tabs})),F=P.ZP.div(s||(s=(0,S.Z)(["\ndisplay:flex;\njustify-content:space-between;\npadding: 8px 16px;\nborder-radius: ",";\nbackground-color: rgba(255, 255, 255, 0.1);\nbox-shadow: inset 2px 2px 5px #babecc, inset -5px -5px 10px #fff;\n"])),(function(n){return n.theme.radii.tabs})),L=P.ZP.div(c||(c=(0,S.Z)(["\nflex-basis:50%;\ndisplay:flex;\nalign-items:center;\ngap:12px;\n"]))),_=P.ZP.div(d||(d=(0,S.Z)(["\ndisplay:flex;\nalign-items:center;\ngap:12px;\n\np {\n    font-size:16px;\n    color: ",";\n}\n"])),(function(n){return n.theme.colors.mainDark})),R=P.ZP.div(u||(u=(0,S.Z)(["\ndisplay:flex;\nalign-items:center;\ngap:12px;\n\np {\n    font-size:16px;\n    color: ",";\n}\n"])),(function(n){return n.theme.colors.mainDark})),U=P.ZP.div(p||(p=(0,S.Z)(["\nwidth:100%;\nmargin:16px 0px;\ndisplay:flex;\nalign-items:center;\nalign-self:flex-end;\njustify-content:space-between;\n"]))),V=P.ZP.div(x||(x=(0,S.Z)(["\nalign-self:center;\ndisplay:flex;\njustify-content:center;\n"]))),B=P.ZP.p(f||(f=(0,S.Z)(["\nz-index:100;\nfont-size:10px;\n"]))),G=P.ZP.div(h||(h=(0,S.Z)(["\ndisplay:flex;\njustify-content:space-between;\n\ninput {\n  width:200px;\n    border-radius: 8px;\n    padding:6px 12px;\n}\n\n"]))),N=P.ZP.button(m||(m=(0,S.Z)(["\n    align-self:center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 2px solid transparent;\n  background-color:",";\n  border-radius: ",";\n  padding:8px 12px;\n  font-family: ",";\n  font-size: 14px;\n  font-weight: ",";\n  text-transform: uppercase;\n  color: ",";\n  transition: ",";\n  opacity: ",";\n  pointer-events: ",";\n  /* cursor: pointer; */\n\n  &:disabled {\n    opacity: 0.7;\n  }\n\n  &:hover:not(:disabled),\n  &:focus:not(:disabled) {\n    background-color: transparent;\n    border: 2px solid pink;\n  }\n\n"])),(function(n){return n.theme.colors.mainAccent}),(function(n){return n.theme.radii.btnStandart}),(function(n){return n.theme.fonts.main}),(function(n){return n.theme.fontWeights[2]}),(function(n){return n.theme.colors.mainDark}),(function(n){return n.theme.transitions.main}),(function(n){return"true"===n.unactive?.3:1}),(function(n){return"true"===n.unactive?"none":"unset"})),Y=t(6834),q=t(1698),I=t(2186),J=t(3535),O=t(3107),W=t(1797),H=t(7793),M=t(7313),K=t(3887),Q=t(184),X=function(n,e){var t=(0,g.I0)(),i=(0,g.v9)(Y.d),o=(0,j.useState)(0),r=(0,b.Z)(o,2),a=r[0],l=r[1],s=(0,j.useState)(!1),c=(0,b.Z)(s,2),d=c[0],u=c[1],p=(0,j.useState)(""),x=(0,b.Z)(p,2),f=x[0],h=x[1],m=(0,j.useState)(""),S=(0,b.Z)(m,2),P=S[0],X=S[1],$=(0,j.useState)(!1),nn=(0,b.Z)($,2),en=nn[0],tn=nn[1],on=(0,j.useState)(null),rn=(0,b.Z)(on,2),an=rn[0],ln=rn[1],sn=(0,j.useState)({}),cn=(0,b.Z)(sn,2),dn=cn[0],un=cn[1],pn=(0,j.useState)(""),xn=(0,b.Z)(pn,2),fn=xn[0],hn=xn[1],mn=(0,j.useState)(""),bn=(0,b.Z)(mn,2),gn=bn[0],jn=bn[1],vn=(0,g.v9)(M.S).find((function(n){return n._id===i[0].shopId})),yn={lat:+vn.lat,lng:+vn.long},Zn=(0,Z.Db)({googleMapsApiKey:"".concat(I.Q2)}).isLoaded,kn=(0,k.E)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:void 0,suppressLocationOnMount:!1}),Cn=kn.coords,wn=kn.isGeolocationAvailable,Sn=kn.isGeolocationEnabled;(0,j.useEffect)((function(){Cn&&(X(Cn.latitude),h(Cn.longitude),un({lat:+Cn.latitude,lng:+Cn.longitude})),wn&&Sn||(X(""),h(""))}),[Cn,wn,Sn]),(0,j.useEffect)((function(){i.length>0&&l(i.reduce((function(n,e){return n+e.price*e.quantity}),0)),i.length<=0&&l(0)}),[i]);var Pn=function(){u(!d)},En=function(n){ln(n),tn(!0)};return console.log(fn),(0,Q.jsx)(C.W,{children:Zn?(0,Q.jsxs)(w.rS,{children:[(0,Q.jsxs)(E,{children:[(0,Q.jsx)("div",{style:{width:"100%",height:"250px"},children:P&&f&&(0,Q.jsxs)(Z.b6,{mapContainerClassName:"map-container",center:dn,zoom:10,children:[(0,Q.jsx)(Z.jC,{clickable:!0,name:vn.name,onClick:function(){En("shop")},icon:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",position:yn,children:en&&"shop"===an&&(0,Q.jsx)(Z.kp,{onCloseClick:function(){tn(!1),ln(null)},children:(0,Q.jsx)(B,{children:vn.name})})}),dn&&(0,Q.jsx)(Z.jC,{clickable:!0,draggable:!0,onDragend:function(n,e,t){return function(n){var e=n.latLng,t=e.lat(),i=e.lng();un({lat:t,lng:i})}(t)},name:"Your location",onClick:function(){En("loc")},position:dn,icon:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",children:en&&"loc"===an&&(0,Q.jsx)(Z.kp,{onCloseClick:function(){tn(!1),ln(null)},children:(0,Q.jsx)(B,{children:"Your location"})})})]})}),(0,Q.jsx)(v.J9,{initialValues:{name:"",email:"",phone:"",address:""},onSubmit:function(n,e){!function(n){var e=n.values,i=n.order,o=n.total,r={name:e.name,email:e.email,phone:e.phone,address:e.address,order:i,total:o};t((0,O.or)()),t((0,W.J)(r)),l(0)}({values:n,order:JSON.stringify(i),total:a.toString()}),e.setSubmitting(!1),e.resetForm()},children:function(n){return(0,Q.jsx)(z,{onSubmit:n.handleSubmit,children:(0,Q.jsxs)(A,{children:[(0,Q.jsxs)("label",{htmlFor:"name",id:"labelName",children:[" Name",(0,Q.jsx)("input",{type:"text",placeholder:"Enter your name",name:"name",value:n.values.name,id:"name",onBlur:function(){n.setTouched({name:!0})},onChange:function(e){n.setTouched({name:!0}),n.setFieldValue("name",e.target.value)}})]}),(0,Q.jsxs)("label",{htmlFor:"email",id:"labelEmail",children:[" Email",(0,Q.jsx)("input",{type:"email",name:"email",placeholder:"Enter your email",value:n.values.email,id:"email",onBlur:function(){n.setTouched({email:!0})},onChange:function(e){n.setTouched({email:!0}),n.setFieldValue("email",e.target.value)}})]}),(0,Q.jsxs)("label",{htmlFor:"phone",id:"labelPhone",children:[" Phone",(0,Q.jsx)("input",{type:"tel",name:"phone",placeholder:"Enter your phone number",value:n.values.phone,id:"phone",onBlur:function(){n.setTouched({phone:!0})},onChange:function(e){n.setTouched({phone:!0}),n.setFieldValue("phone",e.target.value)}})]}),(0,Q.jsxs)("label",{htmlFor:"address",id:"labelAddress",children:[" Address",(0,Q.jsx)("input",{type:"text",name:"address",placeholder:"Enter your address",value:n.values.address,id:"address",onBlur:function(){n.setTouched({address:!0})},onChange:function(e){n.setTouched({address:!0}),n.setFieldValue("address",e.target.value)}})]}),(0,Q.jsx)(V,{children:(0,Q.jsx)(y.Z,{sitekey:I.RZ,onChange:Pn})}),(0,Q.jsx)("button",{type:"submit",disabled:!d||!n.values.name||!n.values.email||!n.values.phone||!n.values.address,children:"Submit"})]})})}})]}),(0,Q.jsxs)(D,{children:[i.length<=0?(0,Q.jsx)("p",{children:"Cart is empty"}):(0,Q.jsx)("ul",{children:i.map((function(n){return(0,Q.jsx)("li",{children:(0,Q.jsxs)(F,{children:[(0,Q.jsxs)(L,{children:[(0,Q.jsx)(T,{src:n.pictureURL?"".concat(I._n,"/").concat(n.pictureURL):q,alt:"shop logo"}),(0,Q.jsx)("h5",{children:n.name})]}),(0,Q.jsxs)(_,{children:[(0,Q.jsx)(J.z,{text:"-",location:"cart",onClick:function(){return t((0,O.X1)(n.name))}}),(0,Q.jsx)("p",{children:n.quantity}),(0,Q.jsx)(J.z,{text:"+",location:"cart",onClick:function(){return t((0,O.g1)(n.name))}})]}),(0,Q.jsx)(R,{children:n.price*n.quantity}),(0,Q.jsx)(J.z,{text:"Remove",location:"cart",onClick:function(){return t((0,O.cl)(n.name))}})]})},n.name)}))}),(0,Q.jsxs)(U,{children:[(0,Q.jsx)("p",{children:"Total:"}),(0,Q.jsxs)("p",{children:[a," UAH"]})]}),(0,Q.jsxs)(G,{children:[(0,Q.jsx)("input",{type:"text",value:fn,placeholder:"Add coupon code",onChange:function(n){return function(n){hn(n.target.value)}(n)}}),(0,Q.jsx)(N,{unactive:(!fn).toString(),onClick:function(){var n=K._.find((function(n){return n.code===fn}));n?(jn("You used ".concat(n.name," coupon")),hn("")):(jn("Coupon is unvalid"),hn(""))},children:"Use coupon"})]}),gn?(0,Q.jsx)("p",{children:gn}):(0,Q.jsx)("p",{})]})]}):(0,Q.jsx)(H.a,{})})}},3887:function(n,e,t){t.d(e,{_:function(){return i}});var i=[{imgURL:"https://cdn.pixabay.com/photo/2017/01/05/18/42/sale-1956066_1280.png",name:"Get 10% discount",code:"SALE"},{imgURL:"https://cdn.pixabay.com/photo/2020/05/25/08/40/food-delivery-5217579_1280.png",name:"Get free delivery",code:"DELIVERY"}]}}]);
//# sourceMappingURL=357.7aaa3a61.chunk.js.map