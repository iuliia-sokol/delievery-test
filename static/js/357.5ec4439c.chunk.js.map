{"version":3,"file":"static/js/357.5ec4439c.chunk.js","mappings":"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","sources":["pages/CartPage/CartPage.styled.js","pages/CartPage/CartPage.jsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const FormWrapper = styled.div`\nflex-basis: 40%;\nmin-width:250px;\nheight:fit-content;\npadding: 16px;\nbackground: rgba(255, 255, 255, 0.1);\nborder-radius: 16px;\nbackdrop-filter: blur(5px);\n-webkit-backdrop-filter: blur(5px);\nborder: 1px solid rgba(255, 255, 255, 0.3);\nborder-radius: ${p => p.theme.radii.tabs};\nborder: 2px solid rgba(110, 140, 500, 0.2);\n  box-shadow: 10px 12px 12px 0px #cab1b14d, 0 0 10em 1em rgba(110, 140, 500, 0.2);\n`\n\nexport const Form = styled.form`\ndisplay:flex;\nflex-direction:column;\ngap:16px;\nborder-radius: ${p => p.theme.radii.tabs};\n    padding: 16px 32px;\n    box-shadow: inset 2px 2px 5px #babecc, inset -5px -5px 10px #fff;\n`\n\nexport const InputsWrapper = styled.div`\ndisplay:flex;\nflex-direction:column;\ngap:16px;\n\nlabel {\n    display:flex;\n    justify-content:space-between;\n    font-size:14px;\n    color: ${p => p.theme.colors.mainDark};  \n}\n\ninput {\n    width:200px;\n    border-radius: 8px;\n    padding:6px 12px;\n}\n\nbutton {\n    align-self:center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 2px solid transparent;\n  background-color:${p => p.theme.colors.mainAccent};\n  border-radius: ${p => p.theme.radii.btnStandart};\n  padding:8px 12px;\n  font-family: ${p => p.theme.fonts.main};\n  font-size: 14px;\n  font-weight: ${p => p.theme.fontWeights[2]};\n  text-transform: uppercase;\n  color: ${p => p.theme.colors.mainDark};\n  transition: ${p => p.theme.transitions.main};\n  cursor: pointer;\n\n  &:disabled {\n    opacity: 0.7;\n  }\n\n  &:hover:not(:disabled),\n  &:focus:not(:disabled) {\n    background-color: transparent;\n    border: 2px solid pink;\n  }\n}\n`\n\nexport const CartDataWrapper = styled.div`\nflex-grow:1;\ndisplay:flex;\nflex-direction:column;\ngap:8px;\nheight:fit-content;\nmax-height:70vh;\noverflow-y:scroll;\npadding: 16px;\nbackground: rgba(255, 255, 255, 0.1);\ncolor: ${p => p.theme.colors.mainDark};\nborder-radius: 16px;\nbackdrop-filter: blur(5px);\n-webkit-backdrop-filter: blur(5px);\nborder: 1px solid rgba(255, 255, 255, 0.3);\nborder-radius: ${p => p.theme.radii.tabs};\nborder: 2px solid rgba(110, 140, 500, 0.2);\n  box-shadow: 10px 12px 12px 0px #cab1b14d, 0 0 10em 1em rgba(110, 140, 500, 0.2);\n`\n\nexport const CartImg = styled.img`\nwidth:60px;\nborder-radius: ${p => p.theme.radii.tabs};\n`\n\nexport const ProductWrapper=styled.div`\ndisplay:flex;\njustify-content:space-between;\npadding: 8px 16px;\nborder-radius: ${p => p.theme.radii.tabs};\nbackground-color: rgba(255, 255, 255, 0.1);\nbox-shadow: inset 2px 2px 5px #babecc, inset -5px -5px 10px #fff;\n`\n\nexport const ProductInfoWrapper = styled.div`\nflex-basis:50%;\ndisplay:flex;\nalign-items:center;\ngap:12px;\n`\n\nexport const ProductQuantityWrapper = styled.div`\ndisplay:flex;\nalign-items:center;\ngap:12px;\n\np {\n    font-size:16px;\n    color: ${p => p.theme.colors.mainDark};\n}\n`\n\n\nexport const ProductPriceWrapper = styled.div`\ndisplay:flex;\nalign-items:center;\ngap:12px;\n\np {\n    font-size:16px;\n    color: ${p => p.theme.colors.mainDark};\n}\n`\n\nexport const TotalWrapper = styled.div`\nwidth:100%;\nmargin:16px 0px;\ndisplay:flex;\nalign-items:center;\nalign-self:flex-end;\njustify-content:space-between;\n`\n\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { Formik } from 'formik';\nimport { Container } from \"components/Container/Container\";\nimport { MainWrapper } from \"pages/HomePage/HomePage.styled\";\nimport { CartDataWrapper, CartImg, Form, FormWrapper, InputsWrapper, ProductInfoWrapper, ProductPriceWrapper, ProductQuantityWrapper, ProductWrapper, TotalWrapper } from \"./CartPage.styled\";\nimport { getCart } from \"redux/cart/cartSelectors\";\nimport defaultShopLogo from '../../images/defaultShopLogo.png'\nimport { BASE_URL } from 'utils/consts';\nimport { Button } from \"components/Button/Button\";\nimport { cleanCart, decrementQuantity, incrementQuantity, removeItem } from \"redux/cart/cartSlice\";\nimport { setHistory } from \"redux/history/historyOperations\";\n\nconst CartPage = () => {\n  const dispatch = useDispatch();\n  const cart = useSelector(getCart)\n  const [total, setTotal] = useState(0)\n\n  useEffect(()=>{\n    if(cart.length>0){\n      setTotal(cart.reduce((total, item)=>total+(item.price*item.quantity),0))\n      }\n      if(cart.length<=0){\n        setTotal(0)\n      }\n  },[cart])\n\n  const handleSubmit = ({values, order, total}) => {\n    const data = {name:values.name, email:values.email, phone:values.phone, address:values.address, order, total}\n    dispatch(cleanCart())\n    dispatch(setHistory(data));\n    setTotal(0)\n  };\n\n    return (\n      <Container >\n      <MainWrapper>\n        <FormWrapper>\n        <Formik\n      initialValues={{\n        name: '',\n        email: '',\n        phone: '',\n        address: '',\n      }}\n      onSubmit={(values, actions) => {\n        handleSubmit({values, order:JSON.stringify(cart), total:total.toString()});\n        actions.setSubmitting(false);\n        actions.resetForm();\n      }}\n    >\n      {props => (\n        <Form onSubmit={props.handleSubmit}>\n          <InputsWrapper>\n            <label htmlFor=\"name\" id=\"labelName\"> Name\n              <input\n                type=\"text\"\n                placeholder=\"Enter your name\"\n                name=\"name\"\n                value={props.values.name}\n                id=\"name\"\n                onBlur={() => {\n                  props.setTouched({\n                    name: true,\n                  });\n                }}\n                onChange={event => {\n                  props.setTouched({\n                    name: true,\n                  });\n                  props.setFieldValue('name', event.target.value);\n                }}\n              />\n            </label>\n            <label htmlFor=\"email\" id=\"labelEmail\"> Email\n              <input\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"Enter your email\"\n                value={props.values.email}\n                id=\"email\"\n                onBlur={() => {\n                  props.setTouched({\n                    email: true,\n                  });\n                }}\n                onChange={event => {\n                  props.setTouched({\n                    email: true,\n                  });\n                  props.setFieldValue('email', event.target.value);\n                }}\n              />\n            </label>\n            <label htmlFor=\"phone\" id=\"labelPhone\"> Phone\n              <input\n                type=\"tel\"\n                name=\"phone\"\n                placeholder=\"Enter your phone number\"\n                value={props.values.phone}\n                id=\"phone\"\n                onBlur={() => {\n                  props.setTouched({\n                    phone: true,\n                  });\n                }}\n                onChange={event => {\n                  props.setTouched({\n                    phone: true,\n                  });\n                  props.setFieldValue('phone', event.target.value);\n                }}\n              />\n            </label>\n            <label htmlFor=\"address\" id=\"labelAddress\"> Address\n              <input\n                type=\"text\"\n                name=\"address\"\n                placeholder=\"Enter your address\"\n                value={props.values.address}\n                id=\"address\"\n                onBlur={() => {\n                  props.setTouched({\n                    address: true,\n                  });\n                }}\n                onChange={event => {\n                  props.setTouched({\n                    address: true,\n                  });\n                  props.setFieldValue('address', event.target.value);\n                }}\n              />\n            </label>\n            <button\n              type=\"submit\"\n              disabled={\n                !props.values.name || !props.values.email || !props.values.phone || !props.values.address\n              }\n            >\n             Submit\n            </button>\n          </InputsWrapper>\n        </Form>\n      )}\n    </Formik>\n        </FormWrapper>\n        <CartDataWrapper> \n         {cart.length<=0 ? <p>Cart is empty</p>:\n          <ul>\n          {cart.map(item => {\n                  return (\n                    <li key={item.name} >\n                      <ProductWrapper>\n                        <ProductInfoWrapper> \n                          <CartImg src={item.pictureURL ? `${BASE_URL}/${item.pictureURL}`: defaultShopLogo} alt=\"shop logo\"/>\n                          <h5>{item.name}</h5>\n                      </ProductInfoWrapper>\n                      <ProductQuantityWrapper>\n                      <Button text='-' location='cart' onClick={() => \n                       dispatch(decrementQuantity(item.name))} />\n                      <p>{item.quantity}</p>\n                      <Button text='+' location='cart' onClick={() => \n                       dispatch(incrementQuantity(item.name))} />\n                      </ProductQuantityWrapper>\n\n                      <ProductPriceWrapper>\n                      {item.price * item.quantity}\n                      </ProductPriceWrapper>\n                \n                      <Button text='Remove' location='cart' onClick={() => \n                       dispatch(removeItem(item.name))} />\n                      </ProductWrapper>\n                \n                    </li>\n                  );\n                })}\n          </ul>}\n                <TotalWrapper>\n                  <p>Total:</p>\n                  <p>{total} UAH</p>\n                  </TotalWrapper>\n        </CartDataWrapper>\n      </MainWrapper>\n      </Container>\n    );\n  };\n  \n  export default CartPage;"],"names":["FormWrapper","styled","p","theme","radii","tabs","Form","InputsWrapper","colors","mainDark","mainAccent","btnStandart","fonts","main","fontWeights","transitions","CartDataWrapper","CartImg","ProductWrapper","ProductInfoWrapper","ProductQuantityWrapper","ProductPriceWrapper","TotalWrapper","dispatch","useDispatch","cart","useSelector","getCart","useState","total","setTotal","useEffect","length","reduce","item","price","quantity","Container","initialValues","name","email","phone","address","onSubmit","values","actions","order","data","cleanCart","setHistory","handleSubmit","JSON","stringify","toString","setSubmitting","resetForm","props","htmlFor","id","type","placeholder","value","onBlur","setTouched","onChange","event","setFieldValue","target","disabled","map","src","pictureURL","BASE_URL","defaultShopLogo","alt","Button","text","location","onClick","decrementQuantity","incrementQuantity","removeItem"],"sourceRoot":""}