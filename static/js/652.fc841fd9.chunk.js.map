{"version":3,"file":"static/js/652.fc841fd9.chunk.js","mappings":"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","sources":["pages/HistoryPage/HistoryPage.styled.js","redux/history/historySelectors.js","redux/filter/filterSelectors.js","pages/HistoryPage/HistoryPage.jsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const MainWrapper = styled.div`\ndisplay:flex;\nflex-direction:column;\njustify-content:center;\ngap:30px;\n`\n\nexport const InputsWrapper = styled.div`\nwidth:50%;\nheight:fit-content;\nalign-self:center;\ndisplay:flex;\nflex-direction:column;\ngap:24px;\njustify-content:center;\nalign-items:center;\npadding:32px;\nbackground: rgba(255, 255, 255, 0.1);\ncolor: ${p => p.theme.colors.mainDark};\nborder-radius: 16px;\nbackdrop-filter: blur(5px);\n-webkit-backdrop-filter: blur(5px);\nborder: 1px solid rgba(255, 255, 255, 0.3);\nborder-radius: ${p => p.theme.radii.tabs};\nborder: 2px solid rgba(110, 140, 500, 0.2);\n  box-shadow: 10px 12px 12px 0px #cab1b14d, 0 0 10em 1em rgba(110, 140, 500, 0.2);\n\n  h4{\n    font-size:18px;\n    align-self:center;\n    margin-bottom:16px;\n  }\n\n  label {\n    display:flex;\n    justify-content:space-between;\n    font-size:14px;\n    color: ${p => p.theme.colors.mainDark}; \n   \n  }\n  input {\n    width:200px;\n    margin-left:16px; \n    border-radius: 8px;\n    padding:6px 12px;\n}\n`\n\n\n\nexport const HistoryWrapper = styled.div`\nheight:fit-content;\nmax-height:70vh;\noverflow-y:scroll;\nwidth:100%;\ndisplay:flex;\nflex-direction:column;\npadding:32px;\nbackground: rgba(255, 255, 255, 0.1);\ncolor: ${p => p.theme.colors.mainDark};\nborder-radius: 16px;\nbackdrop-filter: blur(5px);\n-webkit-backdrop-filter: blur(5px);\nborder: 1px solid rgba(255, 255, 255, 0.3);\nborder-radius: ${p => p.theme.radii.tabs};\nborder: 2px solid rgba(110, 140, 500, 0.2);\nbox-shadow: 10px 12px 12px 0px #cab1b14d, 0 0 10em 1em rgba(110, 140, 500, 0.2);\n\nh4{\n    font-size:18px;\n    align-self:center;\n    margin-bottom:16px;\n}\n\n`\n\nexport const OrdersList = styled.ul`\ndisplay:flex;\nflex-direction:column;\ngap:12px;\n\nli{\n    border-radius: ${p => p.theme.radii.tabs};\n    padding: 16px 32px;\n    box-shadow: inset 2px 2px 5px #babecc, inset -5px -5px 10px #fff;\n}\n`\n\nexport const OrderWrapper = styled.div`\ndisplay:flex;\nflex-direction:column;\ngap:30px;\n`\nexport const OrderId = styled.p`\nfont-size:12px;\ncolor: #cecece;\nmargin-bottom:12px;\n`\n\nexport const OrderDataWrapper = styled.div`\ndisplay:flex;\ngap:24px;\njustify-content:space-between;\nflex-basis:25%;\n`\n\nexport const OrderImg = styled.img`\nwidth:50px;\nborder-radius: ${p => p.theme.radii.tabs};\n`\n\nexport const OrderedList = styled.ul`\ndisplay:flex;\nflex-direction:column;\nwidth:100%;\n\nli{\n    display:flex;\n    justify-content:space-between;\n\n    p{\n        font-size:16px;\n    }\n}\n`\nexport const Total = styled.p`\nwidth:fit-content;\nalign-self:flex-start;\ndisplay:inline-block;\npadding:12px;\nfont-size:20px;\nfont-weight:bold;\nbackground-color: ${p => p.theme.colors.mainAccent};\ncolor:${p => p.theme.colors.mainDark};\nborder-radius: ${p => p.theme.radii.tabs};\n`","export const getHistoryRecord = state =>\n  state.history.history;\nexport const getIsHistoryFetching = state =>\n  state.history.isFetching;","export const getFilter = state => state.filter;\n","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { Container } from \"components/Container/Container\";\nimport { HistoryWrapper, InputsWrapper,MainWrapper, OrderDataWrapper, OrderId, OrderImg, OrderWrapper, OrderedList, OrdersList, Total  } from \"./HistoryPage.styled\";\nimport { getHistory } from \"redux/history/historyOperations\";\nimport { getHistoryRecord, getIsHistoryFetching } from \"redux/history/historySelectors\";\nimport { Loader } from \"components/Loader/Loader\";\nimport defaultShopLogo from '../../images/defaultShopLogo.png'\nimport { BASE_URL } from 'utils/consts';\nimport { filterContact } from \"redux/filter/filterSlice\";\nimport { getFilter } from \"redux/filter/filterSelectors\";\n\nconst HistoryPage = () => {\n  const dispatch = useDispatch();\n  const filter = useSelector(getFilter);\n  const history = useSelector(getHistoryRecord)\n  const loading = useSelector(getIsHistoryFetching)\n\n\n  useEffect(() => {\n    dispatch(getHistory());\n    \n  }, [dispatch]);\n\n\n\n  const filterContacts = () => {\n    const query = filter.toLocaleLowerCase();\n\n    const filteredContacts = history.filter(el =>\n      el.email.toLocaleLowerCase().includes(query)\n    );\n\n    if (query && !filteredContacts.length) {\n      // alert('No orders matching your request');\n      return [];\n    }\n    return filteredContacts;\n  };\n\n    return (\n      <Container >\n       <MainWrapper>\n        <InputsWrapper>\n        <h4>Search orders by email</h4>\n        <label>Email \n          <input type=\"text\"\n           placeholder=\"Start entering your email\"\n           value={filter}\n           onChange={e => dispatch(filterContact(e.target.value))}/>\n        </label>\n        </InputsWrapper>\n       {loading? <Loader/>:\n        <HistoryWrapper>\n          <h4>Orders record</h4>\n       {history.length<=0 ? <p>Orders list is empty</p>:\n         <OrdersList>\n          {filterContacts().map(item => {\n                  return (\n                    <li key={item._id}  >\n                      <p>Order from {item.name} on {item.createdAt.slice(0,10)}</p>\n                      <OrderId>Order ID: {item._id}</OrderId>\n                      <OrderWrapper>\n                        <OrderedList>\n                       {item.order.map(prod=>{\n                       return (\n                        <li key={prod._id}>\n                          <OrderDataWrapper>\n                            <OrderImg\n                            src={prod.pictureURL ? `${BASE_URL}/${prod.pictureURL}`: defaultShopLogo} alt=\"shop logo\"/>\n                            <p>{prod.name}</p>\n                          </OrderDataWrapper>\n                      \n                      <p>Amount: {prod.quantity}</p>\n                      <p>Price: {prod.price}</p>\n                        </li>)\n                       }\n                        )}\n                        </OrderedList>\n                      <Total>Total: {item.total} UAH</Total>\n                      </OrderWrapper>\n                    </li>\n                  );\n                })}\n          </OrdersList>}\n        </HistoryWrapper>\n        }\n       </MainWrapper>\n      </Container>\n    );\n  };\n  \n  export default HistoryPage;"],"names":["MainWrapper","styled","InputsWrapper","p","theme","colors","mainDark","radii","tabs","HistoryWrapper","OrdersList","OrderWrapper","OrderId","OrderDataWrapper","OrderImg","OrderedList","Total","mainAccent","getHistoryRecord","state","history","getIsHistoryFetching","isFetching","getFilter","filter","dispatch","useDispatch","useSelector","loading","useEffect","getHistory","Container","type","placeholder","value","onChange","e","filterContact","target","Loader","length","query","toLocaleLowerCase","filteredContacts","el","email","includes","filterContacts","map","item","name","createdAt","slice","_id","order","prod","src","pictureURL","BASE_URL","defaultShopLogo","alt","quantity","price","total"],"sourceRoot":""}