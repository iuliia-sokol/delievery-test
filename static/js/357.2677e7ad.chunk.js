"use strict";(self.webpackChunkdelivery_test=self.webpackChunkdelivery_test||[]).push([[357],{1357:function(n,e,t){t.r(e),t.d(e,{default:function(){return M}});var i,r,o,a,l,s,d,c,u,p,x,h,m=t(9439),f=t(9434),b=t(2791),g=t(5705),j=t(8007),v=t(7993),y=t(7194),k=t(3623),Z=t(6214),C=t(168),w=t(6444),S=w.ZP.div(i||(i=(0,C.Z)(["\nflex-basis: 40%;\nmin-width:250px;\nheight:fit-content;\npadding: 16px;\nbackground: rgba(255, 255, 255, 0.1);\nborder-radius: 16px;\nbackdrop-filter: blur(5px);\n-webkit-backdrop-filter: blur(5px);\nborder: 1px solid rgba(255, 255, 255, 0.3);\nborder-radius: ",";\nborder: 2px solid rgba(110, 140, 500, 0.2);\n  box-shadow: 10px 12px 12px 0px #cab1b14d, 0 0 10em 1em rgba(110, 140, 500, 0.2);\n"])),(function(n){return n.theme.radii.tabs})),P=w.ZP.form(r||(r=(0,C.Z)(["\ndisplay:flex;\nflex-direction:column;\ngap:16px;\nborder-radius: ",";\n    padding: 16px 32px;\n    box-shadow: inset 2px 2px 5px #babecc, inset -5px -5px 10px #fff;\n"])),(function(n){return n.theme.radii.tabs})),z=w.ZP.div(o||(o=(0,C.Z)(["\ndisplay:flex;\nflex-direction:column;\ngap:16px;\n\nlabel {\n    display:flex;\n    justify-content:space-between;\n    font-size:14px;\n    color: ",";  \n}\n\ninput {\n    width:200px;\n    border-radius: 8px;\n    padding:6px 12px;\n}\n\nbutton {\n    align-self:center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 2px solid transparent;\n  background-color:",";\n  border-radius: ",";\n  padding:8px 12px;\n  font-family: ",";\n  font-size: 14px;\n  font-weight: ",";\n  text-transform: uppercase;\n  color: ",";\n  transition: ",";\n  cursor: pointer;\n\n  &:disabled {\n    opacity: 0.7;\n  }\n\n  &:hover:not(:disabled),\n  &:focus:not(:disabled) {\n    background-color: transparent;\n    border: 2px solid pink;\n  }\n}\n"])),(function(n){return n.theme.colors.mainDark}),(function(n){return n.theme.colors.mainAccent}),(function(n){return n.theme.radii.btnStandart}),(function(n){return n.theme.fonts.main}),(function(n){return n.theme.fontWeights[2]}),(function(n){return n.theme.colors.mainDark}),(function(n){return n.theme.transitions.main})),E=w.ZP.div(a||(a=(0,C.Z)(["\nflex-grow:1;\ndisplay:flex;\nflex-direction:column;\ngap:8px;\nheight:fit-content;\nmax-height:70vh;\noverflow-y:scroll;\npadding: 16px;\nbackground: rgba(255, 255, 255, 0.1);\ncolor: ",";\nborder-radius: 16px;\nbackdrop-filter: blur(5px);\n-webkit-backdrop-filter: blur(5px);\nborder: 1px solid rgba(255, 255, 255, 0.3);\nborder-radius: ",";\nborder: 2px solid rgba(110, 140, 500, 0.2);\n  box-shadow: 10px 12px 12px 0px #cab1b14d, 0 0 10em 1em rgba(110, 140, 500, 0.2);\n"])),(function(n){return n.theme.colors.mainDark}),(function(n){return n.theme.radii.tabs})),T=w.ZP.img(l||(l=(0,C.Z)(["\nwidth:60px;\nborder-radius: ",";\n"])),(function(n){return n.theme.radii.tabs})),F=w.ZP.div(s||(s=(0,C.Z)(["\ndisplay:flex;\njustify-content:space-between;\npadding: 8px 16px;\nborder-radius: ",";\nbackground-color: rgba(255, 255, 255, 0.1);\nbox-shadow: inset 2px 2px 5px #babecc, inset -5px -5px 10px #fff;\n"])),(function(n){return n.theme.radii.tabs})),D=w.ZP.div(d||(d=(0,C.Z)(["\nflex-basis:50%;\ndisplay:flex;\nalign-items:center;\ngap:12px;\n"]))),A=w.ZP.div(c||(c=(0,C.Z)(["\ndisplay:flex;\nalign-items:center;\ngap:12px;\n\np {\n    font-size:16px;\n    color: ",";\n}\n"])),(function(n){return n.theme.colors.mainDark})),L=w.ZP.div(u||(u=(0,C.Z)(["\ndisplay:flex;\nalign-items:center;\ngap:12px;\n\np {\n    font-size:16px;\n    color: ",";\n}\n"])),(function(n){return n.theme.colors.mainDark})),V=w.ZP.div(p||(p=(0,C.Z)(["\nwidth:100%;\nmargin:16px 0px;\ndisplay:flex;\nalign-items:center;\nalign-self:flex-end;\njustify-content:space-between;\n"]))),B=w.ZP.div(x||(x=(0,C.Z)(["\nalign-self:center;\ndisplay:flex;\njustify-content:center;\n"]))),N=w.ZP.p(h||(h=(0,C.Z)(["\nz-index:100;\nfont-size:10px;\n"]))),R=t(6834),_=t(1698),q=t(2186),J=t(3535),O=t(3107),U=t(1797),G=t(7793),H=t(7313),I=t(184),M=function(n,e){var t=(0,f.I0)(),i=(0,f.v9)(R.d),r=(0,b.useState)(0),o=(0,m.Z)(r,2),a=o[0],l=o[1],s=(0,b.useState)(!1),d=(0,m.Z)(s,2),c=d[0],u=d[1],p=(0,b.useState)(""),x=(0,m.Z)(p,2),h=x[0],C=x[1],w=(0,b.useState)(""),M=(0,m.Z)(w,2),W=M[0],Y=M[1],K=(0,b.useState)(!1),Q=(0,m.Z)(K,2),X=Q[0],$=Q[1],nn=(0,b.useState)(null),en=(0,m.Z)(nn,2),tn=en[0],rn=en[1],on=(0,b.useState)({}),an=(0,m.Z)(on,2),ln=an[0],sn=an[1],dn=(0,f.v9)(H.S).find((function(n){return n._id===i[0].shopId})),cn={lat:+dn.lat,lng:+dn.long},un=(0,v.Db)({googleMapsApiKey:"".concat(q.Q2)}).isLoaded,pn=(0,y.E)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:void 0,suppressLocationOnMount:!1}),xn=pn.coords,hn=pn.isGeolocationAvailable,mn=pn.isGeolocationEnabled;(0,b.useEffect)((function(){xn&&(Y(xn.latitude),C(xn.longitude),sn({lat:+xn.latitude,lng:+xn.longitude})),hn&&mn||(Y(""),C(""))}),[xn,hn,mn]),(0,b.useEffect)((function(){i.length>0&&l(i.reduce((function(n,e){return n+e.price*e.quantity}),0)),i.length<=0&&l(0)}),[i]);var fn=function(){u(!c)},bn=function(n){rn(n),$(!0)};return(0,I.jsx)(k.W,{children:un?(0,I.jsxs)(Z.rS,{children:[(0,I.jsxs)(S,{children:[(0,I.jsx)("div",{children:W&&h&&(0,I.jsxs)(v.b6,{mapContainerClassName:"map-container",center:ln,zoom:10,children:[(0,I.jsx)(v.jC,{clickable:!0,name:dn.name,onClick:function(){bn("shop")},icon:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",position:cn,children:X&&"shop"===tn&&(0,I.jsx)(v.kp,{onCloseClick:function(){$(!1),rn(null)},children:(0,I.jsx)(N,{children:dn.name})})}),ln&&(0,I.jsx)(v.jC,{clickable:!0,draggable:!0,onDragend:function(n,e,t){return function(n){console.log(n);var e=n.latLng,t=e.lat(),i=e.lng();sn({lat:t,lng:i})}(t)},name:"Your location",onClick:function(){bn("loc")},position:ln,icon:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",children:X&&"loc"===tn&&(0,I.jsx)(v.kp,{onCloseClick:function(){$(!1),rn(null)},children:(0,I.jsx)(N,{children:"Your location"})})})]})}),(0,I.jsx)(g.J9,{initialValues:{name:"",email:"",phone:"",address:""},onSubmit:function(n,e){!function(n){var e=n.values,i=n.order,r=n.total,o={name:e.name,email:e.email,phone:e.phone,address:e.address,order:i,total:r};t((0,O.or)()),t((0,U.J)(o)),l(0)}({values:n,order:JSON.stringify(i),total:a.toString()}),e.setSubmitting(!1),e.resetForm()},children:function(n){return(0,I.jsx)(P,{onSubmit:n.handleSubmit,children:(0,I.jsxs)(z,{children:[(0,I.jsxs)("label",{htmlFor:"name",id:"labelName",children:[" Name",(0,I.jsx)("input",{type:"text",placeholder:"Enter your name",name:"name",value:n.values.name,id:"name",onBlur:function(){n.setTouched({name:!0})},onChange:function(e){n.setTouched({name:!0}),n.setFieldValue("name",e.target.value)}})]}),(0,I.jsxs)("label",{htmlFor:"email",id:"labelEmail",children:[" Email",(0,I.jsx)("input",{type:"email",name:"email",placeholder:"Enter your email",value:n.values.email,id:"email",onBlur:function(){n.setTouched({email:!0})},onChange:function(e){n.setTouched({email:!0}),n.setFieldValue("email",e.target.value)}})]}),(0,I.jsxs)("label",{htmlFor:"phone",id:"labelPhone",children:[" Phone",(0,I.jsx)("input",{type:"tel",name:"phone",placeholder:"Enter your phone number",value:n.values.phone,id:"phone",onBlur:function(){n.setTouched({phone:!0})},onChange:function(e){n.setTouched({phone:!0}),n.setFieldValue("phone",e.target.value)}})]}),(0,I.jsxs)("label",{htmlFor:"address",id:"labelAddress",children:[" Address",(0,I.jsx)("input",{type:"text",name:"address",placeholder:"Enter your address",value:n.values.address,id:"address",onBlur:function(){n.setTouched({address:!0})},onChange:function(e){n.setTouched({address:!0}),n.setFieldValue("address",e.target.value)}})]}),(0,I.jsx)(B,{children:(0,I.jsx)(j.Z,{sitekey:q.RZ,onChange:fn})}),(0,I.jsx)("button",{type:"submit",disabled:!c||!n.values.name||!n.values.email||!n.values.phone||!n.values.address,children:"Submit"})]})})}})]}),(0,I.jsxs)(E,{children:[i.length<=0?(0,I.jsx)("p",{children:"Cart is empty"}):(0,I.jsx)("ul",{children:i.map((function(n){return(0,I.jsx)("li",{children:(0,I.jsxs)(F,{children:[(0,I.jsxs)(D,{children:[(0,I.jsx)(T,{src:n.pictureURL?"".concat(q._n,"/").concat(n.pictureURL):_,alt:"shop logo"}),(0,I.jsx)("h5",{children:n.name})]}),(0,I.jsxs)(A,{children:[(0,I.jsx)(J.z,{text:"-",location:"cart",onClick:function(){return t((0,O.X1)(n.name))}}),(0,I.jsx)("p",{children:n.quantity}),(0,I.jsx)(J.z,{text:"+",location:"cart",onClick:function(){return t((0,O.g1)(n.name))}})]}),(0,I.jsx)(L,{children:n.price*n.quantity}),(0,I.jsx)(J.z,{text:"Remove",location:"cart",onClick:function(){return t((0,O.cl)(n.name))}})]})},n.name)}))}),(0,I.jsxs)(V,{children:[(0,I.jsx)("p",{children:"Total:"}),(0,I.jsxs)("p",{children:[a," UAH"]})]})]})]}):(0,I.jsx)(G.a,{})})}}}]);
//# sourceMappingURL=357.2677e7ad.chunk.js.map